<div ng-class="{'whirl':isLoading,'traditional':isLoading}">
    <h3>
        <span class="pull-right">
            <a class="btn btn-info btn-sm" ui-sref="app.BaseAd.AnnualProtocol.edit"><i class="fa fa-plus"></i> 新增</a>
            <a class="btn btn-info btn-sm" ng-click="edit()"><i class="fa fa-edit"></i> 编辑</a>
            <a class="btn btn-info btn-sm" ng-click="del()"><i class="fa fa-times"></i> 删除</a>
        </span>
        AnnualProtocol
        <ol class="breadcrumb">
            <li>基地管理</li>
            <li class="active">AnnualProtocol</li>
        </ol>
    </h3>

    <div class="row">
        <div class="panel panel-default">
            <div class="panel-body">
                <form name="form" class="form-inline">
                    <div class="form-group">
                        <label>单据编号</label>
                        <input type="text" name="ReceiptNum" class="form-control input-sm" ng-model="page.ReceiptNum" />
                    </div>
                    <button class="btn btn-primary btn-sm" type="button" ng-click="load()">
                        <i class="fa" ng-class="{'fa-spinner fa-spin':loading,'fa-search':!loading}"></i> {{loading?'搜索中':'搜索'}}
                    </button>
                </form>

                <div class="table-responsive">
                    <table class="table table-sm table-striped table-bordered table-hover table-condensed" >
                        <thead>
                            <tr>
                                <th>选择</th>
                                <th>行号</th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'ContractNum'" change="load()">
                                      协议编号
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'SupplierNum'" change="load()">
                                      供方编号
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'SupplierMem'" change="load()">
                                      供方会员
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'BuyerNum'" change="load()">
                                      需方编号
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'BuyerMem'" change="load()">
                                      需方会员
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'SupplierPNum'" change="load()">
                                      供方省编号
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'SupplierPMem'" change="load()">
                                      供方省会员
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'BuyerPNum'" change="load()">
                                      需方省编号
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'BuyerPMem'" change="load()">
                                      需方省会员
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'SupplierOne'" change="load()">
                                      供方代表
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'BuyerOne'" change="load()">
                                      需方代表
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'SupplierPOne'" change="load()">
                                      供方省代表
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'BuyerPOne'" change="load()">
                                      需方省代表
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'ProtocolType'" change="load()">
                                      协议类型
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'ApplyTime'" change="load()">
                                      申请时间
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'SignaTime'" change="load()">
                                      签章时间
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'TobaLeafType'" change="load()">
                                      烟叶类型
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'TobaLeafShape'" change="load()">
                                      烟叶形态
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'BigLevel'" change="load()">
                                      大等级
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'Account'" change="load()">
                                      数量（担)
                                    </th>
                                
                                    <th table-sort by="p.sort" reverse="p.isAsc" order="'LastModifierUserId'" change="load()">
                                      修改人
                                    </th>
                                
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-show="list.Data.length< 1">
                                <td class="text-center" colspan="21">没有数据</td>
                            </tr>
                            <tr ng-dblclick="edit(item.ID)" ng-click="item.select==true?item.select=false:item.select=true" ng-hide="list.Data.length< 1" ng-repeat="item in list.Data">
                                <td clickselect="selected" select="row">
                                    <div class="checkbox c-checkbox" style="margin:0">
                                        <label>
                                            <input type="checkbox" required="" name="checkbox" ng-model="item.select" style="">
                                            <span class="fa fa-check"></span>
                                        </label>
                                    </div>
                                </td>
                                <td>{{$index+1}}</td>

                                
                                    <td>{{item.ContractNum</td> 
                                
                                    <td>{{item.SupplierNum</td> 
                                
                                    <td>{{item.SupplierMem</td> 
                                
                                    <td>{{item.BuyerNum</td> 
                                
                                    <td>{{item.BuyerMem</td> 
                                
                                    <td>{{item.SupplierPNum</td> 
                                
                                    <td>{{item.SupplierPMem</td> 
                                
                                    <td>{{item.BuyerPNum</td> 
                                
                                    <td>{{item.BuyerPMem</td> 
                                
                                    <td>{{item.SupplierOne</td> 
                                
                                    <td>{{item.BuyerOne</td> 
                                
                                    <td>{{item.SupplierPOne</td> 
                                
                                    <td>{{item.BuyerPOne</td> 
                                
                                    <td>{{item.ProtocolType</td> 
                                
                                    <td>{{item.ApplyTime</td> 
                                
                                    <td>{{item.SignaTime|date:'yyyy-MM-dd'</td> 
                                
                                    <td>{{item.TobaLeafType</td> 
                                
                                    <td>{{item.TobaLeafShape</td> 
                                
                                    <td>{{item.BigLevel</td> 
                                
                                    <td>{{item.Account</td> 
                                
                                    <td>{{item.LastModifierUserId</td> 
                                

                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="text-center">
                    <uib-pagination boundary-links="true" total-items="list.TotalCount" items-per-page='list.PageSize' ng-model="list.PageIndex" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" max-size="5" ng-change="load()" class="pagination-sm"></uib-pagination>
                </div>
            </div>
        </div>

    </div>
</div>